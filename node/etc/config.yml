# Oasis Node Configuration for Sapphire ParaTime Client with ROFL Support
# This configuration enables your node to run as a ROFL node on Sapphire

mode: client

common:
  data_dir: /app/node/data
  log:
    format: JSON
    level:
      cometbft: info
      cometbft/context: error
      default: info

genesis:
  # Download genesis file from:
  # Mainnet: https://github.com/oasisprotocol/mainnet-artifacts/releases/download/2024-11-12/genesis.json
  # Testnet: https://github.com/oasisprotocol/testnet-artifacts/releases/download/2024-11-26/genesis.json
  file: /app/node/etc/genesis.json

consensus:
  # Consensus client will not start when running in stateless client mode
  # See stateless configuration section if you want to enable stateless mode

p2p:
  # Port used for P2P communication
  port: 9200
  seeds:
    # Replace with actual seed node addresses from:
    # Mainnet: https://docs.oasis.io/node/network/mainnet
    # Testnet: https://docs.oasis.io/node/network/testnet
    # Format: "ID@IP:port"
    - "REPLACE_WITH_SEED_NODE_ADDRESS"

runtime:
  # SGX loader is required for TEE ParaTimes (Sapphire)
  sgx_loader: /app/node/bin/oasis-core-runtime-loader
  
  # Paths to ROFL bundles (if hosting directly, not via marketplace)
  paths:
    - /app/node/rofls/rofl-scheduler.testnet.orc

# Optional: Environment configuration
ias:
  proxy_addr: []

# Optional: Stateless client configuration (faster bootstrapping, less resources)
# Uncomment to enable stateless mode
# mode: client-stateless
# consensus:
#   light_client:
#     trust:
#       height: REPLACE_WITH_RECENT_HEIGHT
#       hash: "REPLACE_WITH_BLOCK_HASH"
#       runtime_id: "000000000000000000000000000000000000000000000000a6d1e3ebf60dff6c"
#     providers:
#       - "grpc.testnet.oasis.io:443"
